{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\\\u0410\\u043B\\u0435\\u043A\\u0441\\u0435\\u0439\\\\Desktop\\\\Angular\\\\University\\\\recipt-book\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"./../../services/receipt.service\";\nexport class ReceiptListComponent {\n  constructor(router, animeService) {\n    this.router = router;\n    this.animeService = animeService;\n    this.searchValue = '';\n  }\n\n  get filteredReceipts() {\n    return this.receipts.filter(x => x.name.toLowerCase().includes(this.searchValue.toLowerCase()));\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const response = yield _this.animeService.getReceipts();\n      _this.receipts = response ? response : [];\n\n      _this.sortByDate();\n    })();\n  }\n\n  onReceiptClick(receipt) {\n    const link = ['/receipt', receipt.id];\n    this.router.navigate(link);\n  }\n\n  sortByDate() {\n    this.receipts = this.receipts.sort((x, y) => y.publishYear - x.publishYear);\n  }\n\n  sortByRating() {\n    this.receipts = this.receipts.sort((x, y) => y.rating - x.rating);\n  }\n\n}\n\nReceiptListComponent.ɵfac = function ReceiptListComponent_Factory(t) {\n  return new (t || ReceiptListComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ReceiptService));\n};\n\nReceiptListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ReceiptListComponent,\n  selectors: [[\"ng-component\"]],\n  decls: 2,\n  vars: 0,\n  template: function ReceiptListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"receipt-list works!\");\n      i0.ɵɵelementEnd();\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJyZWNlaXB0LWxpc3QuY29tcG9uZW50LnNjc3MifQ== */\"]\n});","map":{"version":3,"sources":["C:/Users/Алексей/Desktop/Angular/University/recipt-book/src/app/receipts/components/receipt-list/receipt-list.component.ts"],"names":["i0","i1","i2","ReceiptListComponent","constructor","router","animeService","searchValue","filteredReceipts","receipts","filter","x","name","toLowerCase","includes","ngOnInit","response","getReceipts","sortByDate","onReceiptClick","receipt","link","id","navigate","sort","y","publishYear","sortByRating","rating","ɵfac","ReceiptListComponent_Factory","t","ɵɵdirectiveInject","Router","ReceiptService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","template","ReceiptListComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","styles"],"mappings":";AAAA,OAAO,KAAKA,EAAZ,MAAoB,eAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,iBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,kCAApB;AACA,OAAO,MAAMC,oBAAN,CAA2B;AAC9BC,EAAAA,WAAW,CAACC,MAAD,EAASC,YAAT,EAAuB;AAC9B,SAAKD,MAAL,GAAcA,MAAd;AACA,SAAKC,YAAL,GAAoBA,YAApB;AACA,SAAKC,WAAL,GAAmB,EAAnB;AACH;;AACmB,MAAhBC,gBAAgB,GAAG;AAAE,WAAO,KAAKC,QAAL,CAAcC,MAAd,CAAqBC,CAAC,IAAIA,CAAC,CAACC,IAAF,CAAOC,WAAP,GAAqBC,QAArB,CAA8B,KAAKP,WAAL,CAAiBM,WAAjB,EAA9B,CAA1B,CAAP;AAAkG;;AACrHE,EAAAA,QAAQ,GAAG;AAAA;;AAAA;AACb,YAAMC,QAAQ,SAAS,KAAI,CAACV,YAAL,CAAkBW,WAAlB,EAAvB;AACA,MAAA,KAAI,CAACR,QAAL,GAAgBO,QAAQ,GAAGA,QAAH,GAAc,EAAtC;;AACA,MAAA,KAAI,CAACE,UAAL;AAHa;AAIhB;;AACDC,EAAAA,cAAc,CAACC,OAAD,EAAU;AACpB,UAAMC,IAAI,GAAG,CAAC,UAAD,EAAaD,OAAO,CAACE,EAArB,CAAb;AACA,SAAKjB,MAAL,CAAYkB,QAAZ,CAAqBF,IAArB;AACH;;AACDH,EAAAA,UAAU,GAAG;AACT,SAAKT,QAAL,GAAgB,KAAKA,QAAL,CAAce,IAAd,CAAmB,CAACb,CAAD,EAAIc,CAAJ,KAAUA,CAAC,CAACC,WAAF,GAAgBf,CAAC,CAACe,WAA/C,CAAhB;AACH;;AACDC,EAAAA,YAAY,GAAG;AACX,SAAKlB,QAAL,GAAgB,KAAKA,QAAL,CAAce,IAAd,CAAmB,CAACb,CAAD,EAAIc,CAAJ,KAAUA,CAAC,CAACG,MAAF,GAAWjB,CAAC,CAACiB,MAA1C,CAAhB;AACH;;AArB6B;;AAuBlCzB,oBAAoB,CAAC0B,IAArB,GAA4B,SAASC,4BAAT,CAAsCC,CAAtC,EAAyC;AAAE,SAAO,KAAKA,CAAC,IAAI5B,oBAAV,EAAgCH,EAAE,CAACgC,iBAAH,CAAqB/B,EAAE,CAACgC,MAAxB,CAAhC,EAAiEjC,EAAE,CAACgC,iBAAH,CAAqB9B,EAAE,CAACgC,cAAxB,CAAjE,CAAP;AAAmH,CAA1L;;AACA/B,oBAAoB,CAACgC,IAArB,GAA4B,aAAcnC,EAAE,CAACoC,iBAAH,CAAqB;AAAEC,EAAAA,IAAI,EAAElC,oBAAR;AAA8BmC,EAAAA,SAAS,EAAE,CAAC,CAAC,cAAD,CAAD,CAAzC;AAA6DC,EAAAA,KAAK,EAAE,CAApE;AAAuEC,EAAAA,IAAI,EAAE,CAA7E;AAAgFC,EAAAA,QAAQ,EAAE,SAASC,6BAAT,CAAuCC,EAAvC,EAA2CC,GAA3C,EAAgD;AAAE,QAAID,EAAE,GAAG,CAAT,EAAY;AAC/M3C,MAAAA,EAAE,CAAC6C,cAAH,CAAkB,CAAlB,EAAqB,GAArB;AACA7C,MAAAA,EAAE,CAAC8C,MAAH,CAAU,CAAV,EAAa,qBAAb;AACA9C,MAAAA,EAAE,CAAC+C,YAAH;AACH;AAAE,GAJwD;AAItDC,EAAAA,MAAM,EAAE,CAAC,iLAAD;AAJ8C,CAArB,CAA1C","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/router\";\r\nimport * as i2 from \"./../../services/receipt.service\";\r\nexport class ReceiptListComponent {\r\n    constructor(router, animeService) {\r\n        this.router = router;\r\n        this.animeService = animeService;\r\n        this.searchValue = '';\r\n    }\r\n    get filteredReceipts() { return this.receipts.filter(x => x.name.toLowerCase().includes(this.searchValue.toLowerCase())); }\r\n    async ngOnInit() {\r\n        const response = await this.animeService.getReceipts();\r\n        this.receipts = response ? response : [];\r\n        this.sortByDate();\r\n    }\r\n    onReceiptClick(receipt) {\r\n        const link = ['/receipt', receipt.id];\r\n        this.router.navigate(link);\r\n    }\r\n    sortByDate() {\r\n        this.receipts = this.receipts.sort((x, y) => y.publishYear - x.publishYear);\r\n    }\r\n    sortByRating() {\r\n        this.receipts = this.receipts.sort((x, y) => y.rating - x.rating);\r\n    }\r\n}\r\nReceiptListComponent.ɵfac = function ReceiptListComponent_Factory(t) { return new (t || ReceiptListComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ReceiptService)); };\r\nReceiptListComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ReceiptListComponent, selectors: [[\"ng-component\"]], decls: 2, vars: 0, template: function ReceiptListComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"p\");\r\n        i0.ɵɵtext(1, \"receipt-list works!\");\r\n        i0.ɵɵelementEnd();\r\n    } }, styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJyZWNlaXB0LWxpc3QuY29tcG9uZW50LnNjc3MifQ== */\"] });\r\n"]},"metadata":{},"sourceType":"module"}